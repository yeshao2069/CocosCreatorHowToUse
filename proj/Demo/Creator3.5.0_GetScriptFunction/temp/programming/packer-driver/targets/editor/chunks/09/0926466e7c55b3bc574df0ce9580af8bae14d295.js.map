{"version":3,"sources":["file:///Users/mu/work/gitee/cocos-creator-how-to-use/proj/Demo/Creator3.5.0_GetScriptFunction/assets/script/GetScriptFunction.ts"],"names":["_decorator","Component","js","Node","Label","Layout","ccclass","property","GetScriptFunction","onLoad","myMap","Map","privateFuncMap","publicFuncMap","unsortFuncMap","propFuncMap","components","testNode","i","length","className","getClassName","script","getClassByName","scriptPrototype","prototype","val1","val2","val3","k","push","set","testLabel","string","forEach","v","testLayout","updateLayout"],"mappings":";;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,E,OAAAA,E;AAAIC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,M,OAAAA,M;;;;;;;OAC3C;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;;mCAGjBQ,iB,WADZF,OAAO,CAAC,mBAAD,C,UAGHC,QAAQ,CAACJ,IAAD,C,UAERI,QAAQ,CAACH,KAAD,C,UAERG,QAAQ,CAACF,MAAD,C,2BAPb,MACaG,iBADb,SACuCP,SADvC,CACiD;AAAA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAS7CQ,QAAAA,MAAM,GAAI;AAEN,cAAIC,KAAK,GAAG,IAAIC,GAAJ,EAAZ,CAFM,CAEiB;;AACvB,cAAIC,cAAc,GAAG,IAAID,GAAJ,EAArB,CAHM,CAG0B;;AAChC,cAAIE,aAAa,GAAG,IAAIF,GAAJ,EAApB,CAJM,CAIyB;;AAC/B,cAAIG,aAAa,GAAG,IAAIH,GAAJ,EAApB,CALM,CAKyB;;AAC/B,cAAII,WAAW,GAAG,IAAIJ,GAAJ,EAAlB,CANM,CAMuB;;AAE7B,cAAIK,UAAU,GAAG,KAAKC,QAAL,CAAc,aAAd,CAAjB;;AACA,eAAI,IAAIC,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACF,UAAU,CAACG,MAA1B,EAAkCD,CAAC,EAAnC,EAAsC;AAClC;AACA,gBAAIE,SAAS,GAAGlB,EAAE,CAACmB,YAAH,CAAgBL,UAAU,CAACE,CAAD,CAA1B,CAAhB;AACA,kBAAMI,MAAM,GAAGpB,EAAE,CAACqB,cAAH,CAAkBH,SAAlB,CAAf,CAHkC,CAKlC;;AACA,kBAAMI,eAAe,GAAGF,MAAM,CAACG,SAA/B;AACA,gBAAIC,IAAI,GAAG,EAAX;AACA,gBAAIC,IAAI,GAAG,EAAX;AACA,gBAAIC,IAAI,GAAG,EAAX;;AACA,iBAAI,IAAIC,CAAR,IAAaL,eAAb,EAA6B;AACzBE,cAAAA,IAAI,CAACI,IAAL,CAAUD,CAAV;;AACA,kBAAGA,CAAC,CAAC,CAAD,CAAD,IAAQ,GAAX,EAAe;AACXF,gBAAAA,IAAI,CAACG,IAAL,CAAUD,CAAV;AACH,eAFD,MAEO;AACHD,gBAAAA,IAAI,CAACE,IAAL,CAAUD,CAAV;AACH;AACJ;;AACDf,YAAAA,aAAa,CAACiB,GAAd,CAAkBX,SAAlB,EAA6BM,IAA7B;AACAd,YAAAA,cAAc,CAACmB,GAAf,CAAmBX,SAAnB,EAA8BO,IAA9B;AACAd,YAAAA,aAAa,CAACkB,GAAd,CAAkBX,SAAlB,EAA6BQ,IAA7B;AACAb,YAAAA,WAAW,CAACgB,GAAZ,CAAgBX,SAAhB,EAA2BE,MAAM,CAAC,WAAD,CAAjC;AACH,WA/BK,CAiCN;;;AACAZ,UAAAA,KAAK,CAACqB,GAAN,CAAU,kBAAV,EAA8BnB,cAA9B;AACAF,UAAAA,KAAK,CAACqB,GAAN,CAAU,iBAAV,EAA6BlB,aAA7B;AACAH,UAAAA,KAAK,CAACqB,GAAN,CAAU,iBAAV,EAA6BjB,aAA7B;AACAJ,UAAAA,KAAK,CAACqB,GAAN,CAAU,eAAV,EAA2BhB,WAA3B,EArCM,CAuCN;;AAEA,eAAKiB,SAAL,CAAeC,MAAf,IAA0B,oBAA1B;AAEArB,UAAAA,cAAc,CAACsB,OAAf,CAAwBC,CAAD,IAAO;AAC1B,iBAAKH,SAAL,CAAeC,MAAf,IAAyBE,CAAC,GAAG,IAA7B;AACH,WAFD;AAGA,eAAKH,SAAL,CAAeC,MAAf,IAA0B,IAA1B;AAEA,eAAKD,SAAL,CAAeC,MAAf,IAA0B,mBAA1B;AACApB,UAAAA,aAAa,CAACqB,OAAd,CAAuBC,CAAD,IAAO;AACzB,iBAAKH,SAAL,CAAeC,MAAf,IAAyBE,CAAC,GAAG,IAA7B;AACH,WAFD;AAGA,eAAKH,SAAL,CAAeC,MAAf,IAA0B,IAA1B;AAEA,eAAKD,SAAL,CAAeC,MAAf,IAA0B,mBAA1B;AACAnB,UAAAA,aAAa,CAACoB,OAAd,CAAuBC,CAAD,IAAO;AACzB,iBAAKH,SAAL,CAAeC,MAAf,IAAyBE,CAAC,GAAG,IAA7B;AACH,WAFD;AAGA,eAAKH,SAAL,CAAeC,MAAf,IAA0B,IAA1B;AAEA,eAAKD,SAAL,CAAeC,MAAf,IAA0B,iBAA1B;AACAlB,UAAAA,WAAW,CAACmB,OAAZ,CAAqBC,CAAD,IAAO;AACvB,iBAAKH,SAAL,CAAeC,MAAf,IAAyBE,CAAC,GAAG,IAA7B;AACH,WAFD;AAIA,eAAKC,UAAL,CAAgBC,YAAhB;AACH;;AA3E4C,O","sourcesContent":["\nimport { _decorator, Component, js, Node, Label, Layout } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('GetScriptFunction')\nexport class GetScriptFunction extends Component {\n\n    @property(Node)\n    testNode !: Node;\n    @property(Label)\n    testLabel !: Label;\n    @property(Layout)\n    testLayout !: Layout;\n\n    onLoad () {\n\n        let myMap = new Map(); // 保存总数据的map\n        let privateFuncMap = new Map(); // 私有\n        let publicFuncMap = new Map(); // 非私有\n        let unsortFuncMap = new Map(); // 未分类\n        let propFuncMap = new Map(); // __props__获取的方法\n\n        let components = this.testNode['_components'];\n        for(let i=0; i<components.length; i++){\n            // 获取类名\n            let className = js.getClassName(components[i]);\n            const script = js.getClassByName(className);\n\n            // new script.prototype.constructor()['__proto__']  == script.prototype\n            const scriptPrototype = script.prototype;\n            let val1 = [];\n            let val2 = [];\n            let val3 = [];\n            for(var k in scriptPrototype){\n                val1.push(k);\n                if(k[0] == '_'){\n                    val2.push(k);\n                } else {\n                    val3.push(k);\n                }\n            }\n            unsortFuncMap.set(className, val1);\n            privateFuncMap.set(className, val2);\n            publicFuncMap.set(className, val3);\n            propFuncMap.set(className, script['__props__']);\n        }\n\n        // 信息存入map\n        myMap.set('Private Function', privateFuncMap);\n        myMap.set('Public Function', publicFuncMap);\n        myMap.set('Unsort Function', unsortFuncMap);\n        myMap.set('Prop Function', propFuncMap);\n\n        // console.log(myMap);\n\n        this.testLabel.string += `Private Function\\n`;\n        \n        privateFuncMap.forEach((v) => {\n            this.testLabel.string += v + \", \";\n        });\n        this.testLabel.string += `\\n`;\n\n        this.testLabel.string += `Public Function\\n`;\n        publicFuncMap.forEach((v) => {\n            this.testLabel.string += v + \", \";\n        });\n        this.testLabel.string += `\\n`;\n\n        this.testLabel.string += `Unsort Function\\n`;\n        unsortFuncMap.forEach((v) => {\n            this.testLabel.string += v + \", \";\n        });\n        this.testLabel.string += `\\n`;\n\n        this.testLabel.string += `Prop Function\\n`;\n        propFuncMap.forEach((v) => {\n            this.testLabel.string += v + \", \";\n        });\n\n        this.testLayout.updateLayout();\n    }\n}\n\n"]}