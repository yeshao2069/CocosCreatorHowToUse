{"version":3,"sources":["file:///Users/mu/work/gitee/cocos-creator-how-to-use/proj/Demo/Creator3.5.0_BezierCurvePathCreator/assets/scripts/drawBezier.ts"],"names":["_decorator","Component","Node","Prefab","Label","Color","Graphics","EditBox","EventMouse","UITransform","Size","sys","Vec3","tween","view","Ident","ccclass","property","DrawBezier","isStartRun","resolution","prveRunTime","prvePointCount","currentRunTime","actionLists","onLoad","init","window","on","setMouseLocation","bind","showDeleteBtn","hideDeleteBtn","infoWindow","getComponent","priority","notice","getChildByName","fileInputBox","controlPanel","node","moveBtn","smoothnessInputBox","runTimeInputBox","resolutionWidthInputBox","resolutionHeightInputBox","initGraphics","initNodeEvents","hideInfoWindow","addDeleteBtnEvents","initResolution","point","control","setBezierCurveRunTime","Number","string","saveBezierPath","update","dt","setOperateStatus","deleteBtn","active","drawBezierAll","setCountTimeLabel","getResolution","width","height","setPaperSize","ctx","graphicsNode","lineWidth","addCanvasTouchEvents","box","ident","parent","addDragEvents","addHideEvents","clear","bezierLists","getBezierCurveLists","i","len","length","curve","n","Object","keys","drawBezier","start","position","end","drawThirdOrderBezier","control1","control2","sPos","cPos","ePos","startPos","clone","controlPos","endPos","addSize","getViewportRect","set","x","y","z","moveTo","strokeColor","bezierColor","quadraticCurveTo","stroke","lineColor","lineTo","cPos1","cPos2","controlPos1","controlPos2","getVisibleSize","bezierCurveTo","EventType","MOUSE_MOVE","evt","hideMouseLocation","convertToNodeSpace","event","convertToNodeSpaceAR","getUILocation","MOUSE_DOWN","stopPropagation","getButton","BUTTON_LEFT","isLastCurve","showMsg","deletePoint","save","setNoitce","computeBezierActions","saveBezierPathToJson","name","isBrowser","datas","JSON","stringify","getBezierCurveData","textFileAsBlob","Blob","type","downloadLink","document","createElement","download","innerHTML","webkitURL","href","createObjectURL","URL","onclick","destroyClickedElement","style","display","body","appendChild","click","bezierCurveData","points","time","toAction","pos","push","playMoveAnimation","startCountTime","t","to","call","stopCountTime","console","timeEnd","setResolution","str","log","num","isNaN","paperSize","paper","setContentSize","setRunTime","toString","setCurveSmoothness","setPointCount","play","showInfoWindow","msg","setTimeout","timeInfo","toFixed","setPosition","mouseLocation","setCurveType","setBezierCurveType","_name"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node, Prefab, Label, Color,Graphics, EditBox, EventMouse, UITransform, Size, sys, Vec3, tween, view } from 'cc';\nimport { Ident } from './Enums';\nconst { ccclass, property } = _decorator;\n\n@ccclass('DrawBezier')\nexport class DrawBezier extends Component {\n    @property(Node)\n    public graphicsNode !:Node;\n    @property(Node)\n    public box !:Node;\n    @property(Prefab)\n    public point !:Prefab;\n    @property(Prefab)\n    public control !:Prefab;\n    @property\n    public bezierColor : Color = new Color(255, 0, 0);\n    @property\n    public lineColor : Color = new Color(0, 255, 255);\n    @property(Node)\n    public infoWindow !:Node;\n    @property(Node)\n    public paper !:Node;\n    @property(Node)\n    public msg !:Node;\n    @property(Label)\n    public timeInfo !:Label;\n    @property(Node)\n    public deleteBtn !:Node;\n    @property(Label)\n    public mouseLocation !:Label;\n\n    notice !: Label;\n    fileInputBox !: EditBox;\n    moveBtn !: Node;\n    smoothnessInputBox !: EditBox;\n    runTimeInputBox !: EditBox;\n    resolutionWidthInputBox !: EditBox;\n    resolutionHeightInputBox !: EditBox;\n    ctx !: Graphics;\n\n\n    isStartRun : boolean =  false;\n    resolution : any = {};\n    prveRunTime : number = 0;\n    prvePointCount : number = 0;\n    currentRunTime : number = 0;\n    actionLists : any[] = [];\n\n    onLoad () {\n        this.init();\n        window['EventListener'].on(\"setMouseLocation\", this.setMouseLocation.bind(this));\n        window['EventListener'].on(\"showDeleteBtn\", this.showDeleteBtn.bind(this));\n        window['EventListener'].on(\"hideDeleteBtn\", this.hideDeleteBtn.bind(this));\n    }\n\n    init () {\n        this.infoWindow.getComponent(UITransform)!.priority = 10;\n        this.notice = this.infoWindow.getChildByName(\"notice\")!.getComponent(Label)!;\n        this.fileInputBox = this.infoWindow.getChildByName(\"Input\")!.getChildByName(\"fileEditBox\")!.getComponent(EditBox)!;\n        let controlPanel = this.node.getChildByName(\"controlPanel\")!;\n        this.moveBtn = controlPanel.getChildByName(\"moveBtn\")!;\n        this.smoothnessInputBox = controlPanel.getChildByName(\"smoothnessInput\")!.getChildByName(\"EditBox\")!.getComponent(EditBox)!;\n        this.runTimeInputBox = controlPanel.getChildByName(\"runTimeInput\")!.getChildByName(\"EditBox\")!.getComponent(EditBox)!;\n        this.resolutionWidthInputBox = controlPanel.getChildByName(\"resolution\")!.getChildByName(\"width\")!.getComponent(EditBox)!;\n        this.resolutionHeightInputBox = controlPanel.getChildByName(\"resolution\")!.getChildByName(\"height\")!.getComponent(EditBox)!;\n        this.initGraphics();\n        this.initNodeEvents();\n        this.hideInfoWindow();\n        this.addDeleteBtnEvents();\n        this.initResolution();\n        window['BezierData'].init(this.point, this.control, this.node);\n        window['BezierData'].setBezierCurveRunTime(Number(this.runTimeInputBox.string));\n        window['BezierData'].saveBezierPath();\n    }\n\n    update (dt: any) {\n        window['NodeEvents'].setOperateStatus(!this.deleteBtn.active);\n        this.drawBezierAll();\n        if (this.isStartRun) {\n           this.setCountTimeLabel(dt);\n        }\n    }\n\n    initResolution () {\n        this.resolution = window['BezierData'].getResolution();\n        this.resolutionWidthInputBox.string = this.resolution.width;\n        this.resolutionHeightInputBox.string = this.resolution.height;\n        this.setPaperSize();\n    }\n\n    initGraphics () {\n        this.ctx = this.graphicsNode.getComponent(Graphics)!;\n        this.ctx.lineWidth = 2;\n    }\n\n    initNodeEvents () {\n        window['NodeEvents'].addCanvasTouchEvents();\n        (this.box as any).ident = Ident.window;\n        (this.moveBtn as any).ident = Ident.window;\n        (this.moveBtn!.parent as any).ident = Ident.window;\n        window['NodeEvents'].addDragEvents(this.box)\n        window['NodeEvents'].addDragEvents(this.moveBtn, this.moveBtn.parent!);\n        this.addHideEvents(this.moveBtn.parent)\n    }\n\n    drawBezierAll () {\n        this.ctx.clear();\n        let bezierLists = window['BezierData'].getBezierCurveLists();\n        for (var i = 0, len = bezierLists.length; i < len; i++) {\n           const curve = bezierLists[i];\n           let n = Object.keys(curve).length;\n           if (n == 3) {\n               this.drawBezier(\n                   curve.start.position,\n                   curve.control.position,\n                   curve.end.position\n                );\n           }\n           if (n == 4) {\n               this.drawThirdOrderBezier(\n                   curve.start.position,\n                   curve.control1.position,\n                   curve.control2.position,\n                   curve.end.position\n                );\n           }\n        }\n    }\n\n    drawBezier (sPos: Vec3, cPos: Vec3, ePos: Vec3) {\n        // 因为坐标转换问题，需要在原本保存的节点坐标进行处理\n        const startPos = sPos.clone();\n        const controlPos = cPos.clone();\n        const endPos = ePos.clone();\n        let addSize = view.getViewportRect();\n        startPos.set(startPos.x+addSize.width/2, startPos.y+addSize.height/2, startPos.z);\n        controlPos.set(controlPos.x+addSize.width/2, controlPos.y+addSize.height/2, controlPos.z);\n        endPos.set(endPos.x+addSize.width/2, endPos.y+addSize.height/2, endPos.z);\n\n        this.ctx.moveTo(startPos.x, startPos.y);\n        this.ctx.strokeColor = this.bezierColor;\n        this.ctx.quadraticCurveTo(controlPos.x, controlPos.y, endPos.x, endPos.y);\n        this.ctx.stroke();\n        this.ctx.moveTo(endPos.x, endPos.y);\n        this.ctx.strokeColor = this.lineColor;\n        this.ctx.lineTo(controlPos.x, controlPos.y);\n        this.ctx.stroke();\n    }\n\n    drawThirdOrderBezier (sPos: Vec3, cPos1: Vec3, cPos2: Vec3, ePos: Vec3) {\n        // 因为坐标转换问题，需要在原本保存的节点坐标进行处理\n        const startPos = sPos.clone();\n        const controlPos1 = cPos1.clone();\n        const controlPos2 = cPos2.clone();\n        const endPos = ePos.clone();\n        let addSize = view.getVisibleSize();\n        startPos.set(startPos.x+addSize.width/2, startPos.y+addSize.height/2, startPos.z);\n        controlPos1.set(controlPos1.x+addSize.width/2, controlPos1.y+addSize.height/2, controlPos1.z);\n        controlPos2.set(controlPos2.x+addSize.width/2, controlPos2.y+addSize.height/2, controlPos2.z);\n        endPos.set(endPos.x+addSize.width/2, endPos.y+addSize.height/2, endPos.z);\n\n        this.ctx.moveTo(startPos.x, startPos.y);\n        this.ctx.strokeColor = this.bezierColor;\n        this.ctx.bezierCurveTo(controlPos1.x, controlPos1.y, controlPos2.x, controlPos2.y, endPos.x, endPos.y);\n        this.ctx.stroke();\n        this.ctx.moveTo(startPos.x, startPos.y);\n        this.ctx.strokeColor = this.lineColor;\n        this.ctx.lineTo(controlPos1.x, controlPos1.y);\n        this.ctx.stroke();\n        this.ctx.moveTo(endPos.x, endPos.y);\n        this.ctx.lineTo(controlPos2.x, controlPos2.y);\n        this.ctx.stroke();\n    }\n\n    addHideEvents (node: any) {\n        node.on(Node.EventType.MOUSE_MOVE, (evt: any) => {\n           this.hideMouseLocation()\n        })\n    }\n\n    convertToNodeSpace (event: any) {\n        return this.node.getComponent(UITransform)!.convertToNodeSpaceAR(event.getUILocation());\n    }\n\n    addDeleteBtnEvents () {\n        this.deleteBtn.on(Node.EventType.MOUSE_DOWN, (evt: any) => {\n            evt.stopPropagation();\n           if (evt.getButton() == EventMouse.BUTTON_LEFT) {\n               if (window['BezierData'].isLastCurve()) {\n                   this.showMsg(\"不能删除最后一个曲线!!\");\n                   return;\n               }\n               this.hideDeleteBtn();\n               window['BezierData'].deletePoint();//删除坐标点\n               window['BezierData'].saveBezierPath();//保存坐标点\n           }\n        })\n    }\n\n    save () {\n        if (this.fileInputBox.string == \"\") {\n           this.setNoitce(\"文件名不能为空!\");\n           return\n        }\n        this.setNoitce('');\n        this.computeBezierActions();\n        this.saveBezierPathToJson(this.fileInputBox.string);\n    }\n\n    saveBezierPathToJson (name: any) {\n        if (sys.isBrowser) {\n           let datas = JSON.stringify(window['BezierData'].getBezierCurveData());\n           var textFileAsBlob = new Blob([datas], { type: 'application/json' });\n           var downloadLink = document.createElement(\"a\");\n           downloadLink.download = name;\n           downloadLink.innerHTML = \"Download File\";\n           if (window.webkitURL != null) {\n               downloadLink.href = window.webkitURL.createObjectURL(textFileAsBlob);\n           }\n           else {\n               downloadLink.href = window.URL.createObjectURL(textFileAsBlob);\n               downloadLink.onclick = destroyClickedElement;\n               downloadLink.style.display = \"none\";\n               document.body.appendChild(downloadLink);\n           }\n           downloadLink.click();\n        }\n    }\n\n    computeBezierActions () {\n        let bezierCurveData = window['BezierData'].getBezierCurveData();\n        this.actionLists = [];\n        for (var i = 0, len = bezierCurveData.points.length; i < len; i++) {\n           const point = bezierCurveData.points[i];\n           let time = point.length / bezierCurveData.length * bezierCurveData.time;\n           point.time = time;\n           let toAction = {\n               time : time,\n               pos : new Vec3(point.x, point.y, 0)\n           }\n           this.actionLists.push(toAction);\n        }\n    }\n\n    playMoveAnimation () {\n        this.computeBezierActions();\n        this.startCountTime();\n\n        const t = tween(this.box);\n        for(var i=0; i<this.actionLists.length; i++){\n            let time = this.actionLists[i].time;\n            let pos = this.actionLists[i].pos;\n            t.to(time, {position: pos});\n        }\n        t.call(()=>{\n            this.stopCountTime();\n            console.timeEnd(\"time\");\n        }).start();\n    }\n\n    setResolution (str: any, event: any, ident: any) {\n        console.log(str, event, ident);\n        let num = Number(str);\n        if (str == \"\" || isNaN(num)) {\n           this.showMsg(\"分辨率只能填写数字！！！\");\n           event.string = this.resolution[ident];\n           return\n        }\n        this.resolution[ident] = num;\n        window['BezierData'].setResolution(this.resolution.width, this.resolution.height);\n        this.setPaperSize();\n        window['BezierData'].init(this.point, this.control, this.node);\n    }\n\n    setPaperSize () {\n        let paperSize = new Size(this.resolution.width, this.resolution.height);\n        this.paper.getComponent(UITransform)!.setContentSize(paperSize);\n    }\n\n    setRunTime (str: any) {\n        let num = Number(str);\n        if (str == \"\" || isNaN(num)) {\n           this.showMsg(\"运行时间只能填写数字！！！\");\n           this.runTimeInputBox.string = (this.prveRunTime || 2).toString();\n           return\n        }\n        this.prveRunTime = num;\n        window['BezierData'].setBezierCurveRunTime(num);\n    }\n\n    setCurveSmoothness (str: any) {\n        console.log(str);\n        let num = Number(str);\n        if (str == \"\" || isNaN(num)) {\n           this.showMsg(\"曲线平滑度只能填写数字！！！\");\n           this.smoothnessInputBox.string = (this.prvePointCount || 100).toString();\n           return\n        }\n        if (num < 0 || num > 1000) {\n           this.showMsg(\"曲线平滑度取值范围在 0 - 1000！\");\n           this.smoothnessInputBox.string = (this.prvePointCount || 100).toString();\n           return\n        }\n        this.prvePointCount = num;\n        window['BezierData'].setPointCount(num);\n    }\n\n    play () {\n        window['BezierData'].saveBezierPath();//保存坐标点\n        this.playMoveAnimation()\n    }\n\n    showInfoWindow () {\n        this.infoWindow.active = true;\n        this.setNoitce('');\n    }\n\n    hideInfoWindow () {\n        this.infoWindow.active = false;\n    }\n\n    setNoitce (str: any) {\n        this.notice.string = str;\n    }\n\n    showMsg (msg: any) {\n        this.msg.active = true;\n        this.msg.getComponent(Label)!.string = msg\n        setTimeout(() => {\n           if (this.msg) {\n               this.msg.active = false;\n           }\n        }, 1000);\n    }\n\n    startCountTime () {\n        this.isStartRun = true;\n        this.timeInfo.string = '0';\n        this.currentRunTime = 0;\n    }\n\n    stopCountTime () {\n        this.isStartRun = false;\n    }\n\n    setCountTimeLabel (dt: any) {\n        this.currentRunTime = this.currentRunTime + dt;\n        this.timeInfo.string = \"run time: \" + this.currentRunTime.toFixed(2) + \"s\";\n    }\n\n    showDeleteBtn (pos: any) {\n        this.deleteBtn.active = true;\n        this.deleteBtn.setPosition(pos);\n    }\n\n    hideDeleteBtn () {\n        this.deleteBtn.active = false;\n    }\n\n    setMouseLocation (pos: any) {\n        this.mouseLocation.node.active = true\n        this.mouseLocation.node.setPosition(pos);\n        this.mouseLocation.string = `x:${pos.x.toFixed(0)} y:${pos.y.toFixed(0)}`;\n    }\n\n    hideMouseLocation () {\n        this.mouseLocation.node.active = false;\n    }\n\n    setCurveType (event: any) {\n        console.log(event);\n        window['BezierData'].setBezierCurveType(event.node._name)\n    }\n\n}\n"]}