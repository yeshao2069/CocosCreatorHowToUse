{"version":3,"sources":["file:///Users/mu/work/gitee/cocos-creator-how-to-use/proj/Tween/Creator3.5.0_2D_TweenCircleMove/assets/script/CircleMove.ts"],"names":["_decorator","Component","Node","Vec3","tween","ccclass","property","EllipseAutoScroll","start","init","i","nodes","length","child","dstartAngle","dendAngle","Math","PI","radius","center","time","rotate1","rotate2","repeatForever","by","t","r","a","x","sin","y","cos","setPosition"],"mappings":";;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,K,OAAAA,K;;;;;;;OACtC;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;mCAGjBO,iB,WADZF,OAAO,CAAC,mBAAD,C,UAGHC,QAAQ,CAAC,CAACJ,IAAD,CAAD,C,2BAHb,MACaK,iBADb,SACuCN,SADvC,CACiD;AAAA;AAAA;;AAAA;AAAA;;AAK7CO,QAAAA,KAAK,GAAI;AACL,eAAKC,IAAL;AACH;;AAEDA,QAAAA,IAAI,GAAI;AAEJ,eAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKC,KAAL,CAAWC,MAA/B,EAAuCF,CAAC,EAAxC,EAA4C;AACxC,gBAAIG,KAAK,GAAG,KAAKF,KAAL,CAAWD,CAAX,CAAZ;AAEA,gBAAII,WAAW,GAAG,CAAlB,CAHwC,CAGlB;;AACtB,gBAAIC,SAAS,GAAG,IAAEC,IAAI,CAACC,EAAvB,CAJwC,CAIZ;;AAC5B,gBAAIC,MAAM,GAAG,GAAb,CALwC,CAKrB;;AACnB,gBAAIC,MAAM,GAAG,IAAIhB,IAAJ,EAAb,CANwC,CAMb;;AAC3B,gBAAIiB,IAAI,GAAG,CAAX,CAPwC,CAOzB;;AACf,gBAAIC,OAAO,GAAG,CAAd;AACA,gBAAIC,OAAO,GAAG,IAAEN,IAAI,CAACC,EAArB;AACAb,YAAAA,KAAK,CAACS,KAAD,CAAL,CAAaU,aAAb,CACInB,KAAK,CAACiB,OAAD,CAAL,CAAsBG,EAAtB,CAAyBJ,IAAI,GAAGV,CAAC,GAAG,CAApC,EAAwCY,OAAxC,EAAyD;AACrD,0BAAa,CAACG,CAAD,EAAIC,CAAC,GAAC,CAAN,KAAY;AACrB,oBAAIC,CAAC,GAAG,CAACZ,SAAS,GAAGD,WAAb,IAA6BY,CAA7B,GAAkCZ,WAA1C;AACAA,gBAAAA,WAAW,GAAGY,CAAC,GAAGL,OAAlB;AAEA,oBAAIO,CAAC,GAAGT,MAAM,CAACS,CAAP,GAAWV,MAAM,GAAGF,IAAI,CAACa,GAAL,CAASF,CAAT,CAA5B;AACA,oBAAIG,CAAC,GAAGX,MAAM,CAACW,CAAP,GAAWZ,MAAM,GAAGF,IAAI,CAACe,GAAL,CAASJ,CAAT,CAA5B;AACCF,gBAAAA,CAAD,CAAYO,WAAZ,CAAwBJ,CAAxB,EAA2BE,CAA3B,EAA8B,CAA9B;AACH;AARoD,aAAzD,EASGtB,KATH,EADJ,EAWEA,KAXF;AAYH;AACJ;;AAlC4C,O;;;;;iBAG5B,E","sourcesContent":["\nimport { _decorator, Component, Node, Vec3, tween } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('EllipseAutoScroll')\nexport class EllipseAutoScroll extends Component {\n    \n    @property([Node])\n    nodes : Node[] = [];\n\n    start () {\n        this.init();\n    }\n\n    init () {\n\n        for (var i = 0; i < this.nodes.length; i++) {\n            var child = this.nodes[i];\n\n            let dstartAngle = 0;  // 开始的角度\n            let dendAngle = 2*Math.PI;  // 结束的角度\n            let radius = 200;  // 半径\n            let center = new Vec3();   // 转动的时候的中心点位置\n            let time = 5;  // 决定转动的速度\n            let rotate1 = 0;\n            let rotate2 = 2*Math.PI;\n            tween(child).repeatForever(\n                tween(rotate1 as any).by(time + i * 5, (rotate2 as any), {\n                    'onUpdate' : (t, r=0) => {\n                        var a = (dendAngle - dstartAngle) * (r) + dstartAngle\n                        dstartAngle = r * rotate1;\n            \n                        var x = center.x + radius * Math.sin(a);\n                        var y = center.y + radius * Math.cos(a);\n                        (t as Node).setPosition(x, y, 0);\n                    }\n                }).start()\n            ).start();\n        }\n    }\n}\n"]}