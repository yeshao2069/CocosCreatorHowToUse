{"version":3,"sources":["file:///Users/mu/work/gitee/cocos-creator-how-to-use/proj/Particle/Creator3.5.1_3D_ParticleLimitVelocity/assets/script/CameraController.ts"],"names":["_decorator","Component","math","Vec3","Quat","ccclass","property","CameraController","_rotateDelta","_temp_vec3","_temp_quat","start","toRadian","rotateDelta","translate","leftRight","backForth","dt","set","translateDelta","node","rotate","longitudinal","perpendicular","fromEuler","onPushJoystick","customEventData"],"mappings":";;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,I,OAAAA,I;;;;;;;OACtC;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;kCAGjBO,gB,WADZF,OAAO,CAAC,kBAAD,C,2BAAR,MACaE,gBADb,SACsCN,SADtC,CACgD;AAAA;AAAA;;AAAA;;AAAA;;AAAA,eAQpCO,YARoC,GAQrB,CARqB;AAAA,eAUpCC,UAVoC,GAUjB,IAAIN,IAAJ,EAViB;AAAA,eAWpCO,UAXoC,GAWjB,IAAIN,IAAJ,EAXiB;AAAA;;AAa5CO,QAAAA,KAAK,GAAI;AACL;AACA,eAAKH,YAAL,GAAoBN,IAAI,CAACU,QAAL,CAAc,KAAKC,WAAnB,CAApB;AACH,SAhB2C,CAkB5C;AACA;AACA;;;AAEAC,QAAAA,SAAS,CAAEC,SAAF,EAAqBC,SAArB,EAAwCC,EAAxC,EAAoD;AACzDd,UAAAA,IAAI,CAACe,GAAL,CAAS,KAAKT,UAAd,EAA0BM,SAAS,GAAG,KAAKI,cAAjB,GAAkCF,EAA5D,EAAgE,CAAhE,EAAmED,SAAS,GAAG,KAAKG,cAAjB,GAAkCF,EAArG;AACA,eAAKG,IAAL,CAAUN,SAAV,CAAoB,KAAKL,UAAzB;AACH;;AAEDY,QAAAA,MAAM,CAAEC,YAAF,EAAwBC,aAAxB,EAA+CN,EAA/C,EAA2D;AAC7Db,UAAAA,IAAI,CAACoB,SAAL,CAAe,KAAKd,UAApB,EAAgCa,aAAa,GAAG,KAAKV,WAArB,GAAmCI,EAAnE,EAAuEK,YAAY,GAAG,KAAKT,WAApB,GAAkCI,EAAzG,EAA6G,CAA7G;AACA,eAAKG,IAAL,CAAUC,MAAV,CAAiB,KAAKX,UAAtB;AACH;;AAEDe,QAAAA,cAAc,CAAER,EAAF,EAAcS,eAAd,EAAuC;AACjD,kBAAQA,eAAR;AACI,iBAAK,GAAL;AACI,mBAAKZ,SAAL,CAAe,CAAf,EAAkB,CAAC,CAAnB,EAAsBG,EAAtB;AACA;;AACJ,iBAAK,GAAL;AACI,mBAAKH,SAAL,CAAe,CAAf,EAAkB,CAAlB,EAAqBG,EAArB;AACA;;AACJ,iBAAK,GAAL;AACI,mBAAKH,SAAL,CAAe,CAAC,CAAhB,EAAmB,CAAnB,EAAsBG,EAAtB;AACA;;AACJ,iBAAK,GAAL;AACI,mBAAKH,SAAL,CAAe,CAAf,EAAkB,CAAlB,EAAqBG,EAArB;AACA;;AACJ,iBAAK,GAAL;AACI,mBAAKI,MAAL,CAAY,CAAZ,EAAe,CAAf,EAAkBJ,EAAlB;AACA;;AACJ,iBAAK,GAAL;AACI,mBAAKI,MAAL,CAAY,CAAZ,EAAe,CAAC,CAAhB,EAAmBJ,EAAnB;AACA;;AACJ,iBAAK,IAAL;AACI,mBAAKI,MAAL,CAAY,CAAZ,EAAe,CAAf,EAAkBJ,EAAlB;AACA;;AACJ,iBAAK,IAAL;AACI,mBAAKI,MAAL,CAAY,CAAC,CAAb,EAAgB,CAAhB,EAAmBJ,EAAnB;AACA;AAxBR;AA0BH;;AA3D2C,O,iFAE3CX,Q;;;;;iBACuB,C;;sFAEvBA,Q;;;;;iBACoB,E","sourcesContent":["import { _decorator, Component, math, Vec3, Quat } from \"cc\";\nconst { ccclass, property } = _decorator;\n\n@ccclass(\"CameraController\")\nexport class CameraController extends Component {\n\n    @property\n    public translateDelta = 5;\n\n    @property\n    public rotateDelta = 15;\n\n    private _rotateDelta = 0;\n\n    private _temp_vec3: Vec3 = new Vec3();\n    private _temp_quat: Quat = new Quat();\n\n    start () {\n        // Your initialization goes here.\n        this._rotateDelta = math.toRadian(this.rotateDelta);\n    }\n\n    // update (deltaTime: number) {\n    //     // Your update function goes here.\n    // }\n\n    translate (leftRight: number, backForth: number, dt: number) {\n        Vec3.set(this._temp_vec3, leftRight * this.translateDelta * dt, 0, backForth * this.translateDelta * dt);\n        this.node.translate(this._temp_vec3);\n    }\n\n    rotate (longitudinal: number, perpendicular: number, dt: number) {\n        Quat.fromEuler(this._temp_quat, perpendicular * this.rotateDelta * dt, longitudinal * this.rotateDelta * dt, 0);\n        this.node.rotate(this._temp_quat);\n    }\n\n    onPushJoystick (dt: number, customEventData: string) {\n        switch (customEventData) {\n            case 'F':\n                this.translate(0, -1, dt);\n                break;\n            case 'B':\n                this.translate(0, 1, dt);\n                break;\n            case 'L':\n                this.translate(-1, 0, dt);\n                break;\n            case 'R':\n                this.translate(1, 0, dt);\n                break;\n            case 'U':\n                this.rotate(0, 1, dt);\n                break;\n            case 'D':\n                this.rotate(0, -1, dt);\n                break;\n            case 'RL':\n                this.rotate(1, 0, dt);\n                break;\n            case 'RR':\n                this.rotate(-1, 0, dt);\n                break;\n        }\n    }\n}\n"]}